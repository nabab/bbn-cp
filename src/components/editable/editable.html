<div :class="['bbn-iblock', componentClass]"
     @focusout="focusout"
     @mouseenter="over = true"
     @mouseleave="over = false">
  <component bbn-if="isEditing && component"
            :is="component"
            bbn-model="currentValue"
            bbn-bind="componentOptions"/>
  <component bbn-elseif="isEditing && componentObject"
            :is="componentObject"
            bbn-model="currentValue"
            :source="source"
            :class="{'edit-block' : isEditing}"/>
  <component bbn-elseif="componentObject"
             :is="componentObject"
             bbn-model="currentValue"
             :source="source"
             :class="{'edit-block' : isEditing}"/>
  <div :style="{
      position: 'absolute',
      top: '0px',
      right: isEditing ? '-8rem' : undefined,
      left: isEditing ? undefined : '-8rem',
      width: '8rem',
      paddingRight: isEditing ? '0' : '1rem',
      paddingLeft: isEditing ? '1rem' : '0',
      textAlign: isEditing ? 'left' : 'right',
      display: isEditing || over ? 'block' : 'none'
    }">
    <i :class="'bbn-p inline ' + editIcon"
      @click.stop="edit"
      bbn-if="!isEditing"/>
    <i :class="'bbn-p inline ' + cancelIcon"
      @click.stop="onCancel"
      bbn-if="isEditing"/>
    <i :class="'bbn-p inline ' + saveIcon"
      @click.stop="save"
      bbn-if="isEditing"/>
  </div>
</div>